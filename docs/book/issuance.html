<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Issuance - LWK Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="styles.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">LWK Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/blockstream/lwk" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/blockstream/lwk/edit/master/docs/src/src/issuance.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="issuance"><a class="header" href="#issuance">Issuance</a></h1>
<p>Asset issuance on Liquid allows you to create new digital assets. When you issue an asset, you create a certain amount of that asset and optionally you also create another asset, called reissuance token, that allows you to create more of the asset later.</p>
<h2 id="understanding-asset-issuance"><a class="header" href="#understanding-asset-issuance">Understanding Asset Issuance</a></h2>
<p>When issuing an asset, you need to specify:</p>
<ul>
<li><strong>Asset amount</strong>: The number of units (in satoshis) of the asset to create</li>
<li><strong>Asset receiver</strong>: The address that will receive the newly issued asset (optional, defaults to a wallet address)</li>
<li><strong>Token amount</strong>: The number of reissuance tokens to create (optional, can be 0)</li>
<li><strong>Token receiver</strong>: The address that will receive the reissuance tokens (optional, defaults to a wallet address)</li>
<li><strong>Contract</strong>: Metadata about the asset (optional, necessary for asset registry)</li>
</ul>
<p>The asset receiver address and token receiver address can belong to different wallets with different spending policies, allowing for a more secure and customizable setup according to the issuer's needs.</p>
<p>The asset ID is deterministically derived from the transaction input and contract metadata (if provided). This means that if you use the same contract and transaction input, you'll get the same asset ID.</p>
<h2 id="creating-a-contract"><a class="header" href="#creating-a-contract">Creating a Contract</a></h2>
<p>A contract defines metadata about your asset, such as its name, ticker, precision, and issuer information. While contracts are optional, they are highly recommended as they allow your asset to be registered in the Liquid Asset Registry and displayed with proper metadata in wallets.</p>
<p>A contract contains:</p>
<ul>
<li><strong>domain</strong>: The domain of the asset issuer (e.g., "example.com")</li>
<li><strong>issuer_pubkey</strong>: The public key of the issuer (33 bytes, hex-encoded)</li>
<li><strong>name</strong>: The name of the asset (1-255 ASCII characters)</li>
<li><strong>precision</strong>: Decimal precision (0-8, where 8 is like Bitcoin)</li>
<li><strong>ticker</strong>: The ticker symbol (3-24 characters, letters, numbers, dots, and hyphens)</li>
<li><strong>version</strong>: Contract version (currently only 0 is supported)</li>
</ul>
<p>Amounts expressed in satoshi are always whole numbers without any decimal places. If you want to represent decimal values, you should use the "precision" variable in the contract. This variable determines the number of decimal places, i.e., how many digits appear after the decimal point. The following table shows different precision values with the issuance of 1 million satoshi.</p>
<div class="table-wrapper"><table><thead><tr><th>Satoshi</th><th>Precision</th><th>Asset units</th></tr></thead><tbody>
<tr><td>1.000.000</td><td>0</td><td>1.000.000</td></tr>
<tr><td>1.000.000</td><td>1</td><td>100.000,0</td></tr>
<tr><td>1.000.000</td><td>2</td><td>10.000,00</td></tr>
<tr><td>1.000.000</td><td>3</td><td>1.000,000</td></tr>
<tr><td>1.000.000</td><td>4</td><td>100,000</td></tr>
<tr><td>1.000.000</td><td>5</td><td>10,00000</td></tr>
<tr><td>1.000.000</td><td>6</td><td>1,000000</td></tr>
<tr><td>1.000.000</td><td>8</td><td>0.1000000</td></tr>
<tr><td>1.000.000</td><td>8</td><td>0.01000000</td></tr>
</tbody></table>
</div><custom-tabs category="lang">
<div slot="title">Rust</div>
<section>
<pre><code class="language-rust ignore">let contract_str = "{\"entity\":{\"domain\":\"ciao.it\"},\"issuer_pubkey\":\"0337cceec0beea0232ebe14cba0197a9fbd45fcf2ec946749de920e71434c2b904\",\"name\":\"name\",\"precision\":8,\"ticker\":\"TTT\",\"version\":0}";
let contract = Contract::from_str(contract_str)?;</code></pre>
</section>
<div slot="title">Python</div>
<section>
<pre><code class="language-python">contract = Contract(
    domain = "ciao.it", \
    issuer_pubkey = "0337cceec0beea0232ebe14cba0197a9fbd45fcf2ec946749de920e71434c2b904", \
    name = "name", \
    precision = 8, 
    ticker = "TTT", 
    version = 0)
</code></pre>
</section>
</custom-tabs>
<h2 id="issuing-an-asset"><a class="header" href="#issuing-an-asset">Issuing an Asset</a></h2>
<p>To issue an asset, use <code>TxBuilder::issue_asset()</code> before calling <code>finish()</code>. You need to have some LBTC in your wallet to pay for the transaction fees.</p>
<custom-tabs category="lang">
<div slot="title">Rust</div>
<section>
<pre><code class="language-rust ignore">// Issue asset
let issued_asset = 10_000;
let reissuance_tokens = 1;

// Create a transaction builder and the issuance transaction
let builder = wollet.tx_builder();
//  isue asset
let mut pset = builder
    .issue_asset(
        issued_asset,
        None, // None -&gt; a wallet from the address is used
        reissuance_tokens,
        None, // None -&gt; a wallet from the address is used
        Some(contract.clone()),
    )?
    .finish()?;

// Sign the transaction and finalize it
let signatures_added = signer.sign(&amp;mut pset).expect("signing failed");
let _ = wollet.finalize(&amp;mut pset)?;
let tx = pset.extract_tx()?;

// Broadcast the transaction
let txid = client.broadcast(&amp;tx)?;</code></pre>
</section>
<div slot="title">Python</div>
<section>
<pre><code class="language-python">issued_asset = 10000
reissuance_tokens = 1

# Create an issuance transaction 
builder = network.tx_builder()
builder.issue_asset(issued_asset, wollet_adddress, reissuance_tokens, wollet_adddress, contract)
unsigned_pset = builder.finish(wollet)
</code></pre>
</section>
</custom-tabs>
<h2 id="getting-asset-and-token-ids"><a class="header" href="#getting-asset-and-token-ids">Getting Asset and Token IDs</a></h2>
<p>After creating the issuance PSET, you can extract the asset ID and reissuance token ID from the transaction input:</p>
<custom-tabs category="lang">
<div slot="title">Rust</div>
<section>
<pre><code class="language-rust ignore">let asset_id = pset.inputs()[0].issuance_ids().0;
let token_id = pset.inputs()[0].issuance_ids().1;</code></pre>
</section>
<div slot="title">Python</div>
<section>
<pre><code class="language-python">asset_id = signed_pset.inputs()[0].issuance_asset()
token_id = signed_pset.inputs()[0].issuance_token()
</code></pre>
</section>
</custom-tabs>
<h2 id="complete-example"><a class="header" href="#complete-example">Complete Example</a></h2>
<p>Here's a complete example that issues an asset, signs it, and broadcasts it:</p>
<custom-tabs category="lang">
<div slot="title">Rust</div>
<section>
<pre><code class="language-rust ignore">
let mut client = test_client_electrum(&amp;env.electrum_url());

// Create wallet
let mnemonic = "abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about";

let signer = SwSigner::new(mnemonic, false)?;
let desc = signer.wpkh_slip77_descriptor()?;

let mut wollet = Wollet::without_persist(network, WolletDescriptor::from_str(&amp;desc)?)?;
let wollet_address = wollet.address(None)?;
let wallet_address_str = wollet_address.address().to_string();

let txid =

let contract_str = "{\"entity\":{\"domain\":\"ciao.it\"},\"issuer_pubkey\":\"0337cceec0beea0232ebe14cba0197a9fbd45fcf2ec946749de920e71434c2b904\",\"name\":\"name\",\"precision\":8,\"ticker\":\"TTT\",\"version\":0}";
let contract = Contract::from_str(contract_str)?;

// Issue asset
let issued_asset = 10_000;
let reissuance_tokens = 1;

// Create a transaction builder and the issuance transaction
let builder = wollet.tx_builder();
//  isue asset
let mut pset = builder
    .issue_asset(
        issued_asset,
        None, // None -&gt; a wallet from the address is used
        reissuance_tokens,
        None, // None -&gt; a wallet from the address is used
        Some(contract.clone()),
    )?
    .finish()?;

// Sign the transaction and finalize it
let signatures_added = signer.sign(&amp;mut pset).expect("signing failed");
let _ = wollet.finalize(&amp;mut pset)?;
let tx = pset.extract_tx()?;

// Broadcast the transaction
let txid = client.broadcast(&amp;tx)?;

let asset_id = pset.inputs()[0].issuance_ids().0;
let token_id = pset.inputs()[0].issuance_ids().1;</code></pre>
</section>
<div slot="title">Python</div>
<section>
<pre><code class="language-python">network = Network.regtest_default()
policy_asset = network.policy_asset()
client = ElectrumClient.from_url(node.electrum_url())

# Create wallet
mnemonic = Mnemonic("abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about")

signer = Signer(mnemonic, network)
desc = signer.wpkh_slip77_descriptor()

wollet = Wollet(network, desc, datadir=None)
wollet_address_result = wollet.address(0)
wollet_adddress = wollet_address_result.address()


contract = Contract(
    domain = "ciao.it", \
    issuer_pubkey = "0337cceec0beea0232ebe14cba0197a9fbd45fcf2ec946749de920e71434c2b904", \
    name = "name", \
    precision = 8, 
    ticker = "TTT", 
    version = 0)

issued_asset = 10000
reissuance_tokens = 1

# Create an issuance transaction 
builder = network.tx_builder()
builder.issue_asset(issued_asset, wollet_adddress, reissuance_tokens, wollet_adddress, contract)
unsigned_pset = builder.finish(wollet)
# Sign the transaction and finalize it
signed_pset = signer.sign(unsigned_pset)
finalized_pset = wollet.finalize(signed_pset)
tx = finalized_pset.extract_tx()

# Broadcast the transaction
txid = client.broadcast(tx)

asset_id = signed_pset.inputs()[0].issuance_asset()
token_id = signed_pset.inputs()[0].issuance_token()
</code></pre>
</section>
</custom-tabs>
<h2 id="important-notes"><a class="header" href="#important-notes">Important Notes</a></h2>
<ul>
<li><strong>Asset amount limit</strong>: The maximum asset amount is 21,000,000 BTC (2,100,000,000,000,000 satoshis)</li>
<li><strong>At least one amount required</strong>: Either <code>asset_sats</code> or <code>token_sats</code> must be greater than 0</li>
<li><strong>Reissuance tokens</strong>: If you want to be able to create more of the asset later, you must issue at least 1 reissuance token. The holder of the reissuance token can use it to <a href="reissuance.html">reissue</a> more of the asset</li>
<li><strong>Contract commitment</strong>: If a contract is provided, its metadata is committed in the asset ID. This means the asset ID will be the same if you use the same contract and transaction input</li>
<li><strong>Confidential issuance</strong>: The issuance amounts can be confidential (blinded) or explicit. LWK handles this automatically</li>
</ul>
<h2 id="next-steps"><a class="header" href="#next-steps">Next Steps</a></h2>
<p>After issuing an asset, you can:</p>
<ul>
<li><a href="reissuance.html">Reissue</a> more of the asset if you have reissuance tokens</li>
<li><a href="burn.html">Burn</a> some of the asset to reduce the supply</li>
<li>Send the asset to other addresses using regular <a href="tx.html">transaction creation</a></li>
</ul>
<hr />
<p>Next: <a href="reissuance.html">Reissuance</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="multisig.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="reissuance.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="multisig.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="reissuance.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="mermaid.min.js"></script>
        <script src="mermaid-init.js"></script>
        <script src="tabs.js"></script>



    </div>
    </body>
</html>
